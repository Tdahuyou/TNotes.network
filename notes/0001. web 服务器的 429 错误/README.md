# [0001. web 服务器的 429 错误](https://github.com/tnotesjs/TNotes.network/tree/main/notes/0001.%20web%20%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%9A%84%20429%20%E9%94%99%E8%AF%AF)

<!-- region:toc -->

- [1. 📝 概述](#1--概述)
- [2. 💻 响应示例](#2--响应示例)
- [3. 📒 常见场景](#3--常见场景)
- [4. 📒 解决方法](#4--解决方法)

<!-- endregion:toc -->

## 1. 📝 概述

- “你访问得太频繁了，请慢一点。”
- HTTP 状态码 `429 Too Many Requests` 是一个标准的响应代码，表示 **客户端在短时间内发送了过多请求，服务器无法处理**，即触发了服务器的 **限流机制（Rate Limiting）**。
- 当你的浏览器、App 或程序向服务器发起请求的速度超过了服务器允许的最大频率时，服务器就会返回 `429` 错误，防止系统过载或被滥用。

| 类型         | 含义                             |
| ------------ | -------------------------------- |
| HTTP 状态码  | `429`                            |
| 错误级别     | 客户端错误（4xx）                |
| 中文含义     | 请求过多，服务器拒绝处理         |
| 常见解决办法 | 控制请求频率、使用缓存、重试机制 |

## 2. 💻 响应示例

::: code-group

```http [响应示例]
HTTP/1.1 429 Too Many Requests
Content-Type: application/json
Retry-After: 60

{
  "error": "Too many requests",
  "message": "Please try again after 60 seconds."
}
```

:::

- `Retry-After` 头部告诉客户端多久之后可以再次请求。

## 3. 📒 常见场景

- **API 请求过于频繁**
  - 比如你在写爬虫、自动化脚本、调用第三方 API。
  - 例如：每秒发几百个请求，超出了接口限制。
- **网站被恶意攻击（如 DDoS）**
  - 攻击者大量请求资源，服务器主动防御限流。
- **用户行为异常**
  - 用户快速刷新页面、频繁提交表单等。
- **服务器配置了速率限制（Nginx、Apache、CDN 等）**
  - 如 Nginx 的 `limit_req_zone` 配置。
- **使用了第三方服务并超出其 API 调用限额**
  - 比如 GitHub、Twitter、Stripe 等 API 都有限制。
- **场景示例**：
  - 使用 GitHub API 获取项目信息，未登录且请求太频繁 → 返回 429。
  - 自己写的爬虫没有加延迟，疯狂抓取网页内容 → 被服务器拦截返回 429。
  - Web 应用前端轮询后端接口频率过高 → 后端限流返回 429。

## 4. 📒 解决方法

- 可以等一会儿，避免频繁操作。
- 可以尝试开一个无痕模式 `cmd shift n` 试试。
- 可以尝试清除浏览器缓存或尝试换设备/网络。
